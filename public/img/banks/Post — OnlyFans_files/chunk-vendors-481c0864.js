"use strict";(self.webpackChunkof_vue=self.webpackChunkof_vue||[]).push([[66037],{581142:function(e,t,n){n.d(t,{Z:function(){return _}});var i=n(633160),o=n(557147);function s(){return fetch("https://ip2c.org/s").then((e=>e.text())).then((e=>{const t=(e||"").toString();if(!t||"1"!==t[0])throw new Error("unable to fetch the country");return t.substr(2,2)}))}function r(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){const n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}}const l={placeholder:"Enter a phone number",label:"Enter a Phone Number",disabledFetchingCountry:!1,disabled:!1,disabledFormatting:!1,mode:"",invalidMsg:"",required:!1,allCountries:i.Z,defaultCountry:"",enabledCountryCode:!1,enabledFlags:!0,preferredCountries:[],onlyCountries:[],ignoredCountries:[],autofocus:!1,autocomplete:"on",name:"telephone",wrapperClasses:"",inputClasses:"",inputId:"",dropdownOptions:{},inputOptions:{},maxLen:25,validCharactersOnly:!1,dynamicPlaceholder:!1};var u={options:{...l}},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["vue-tel-input-vuetify",e.wrapperClasses]},[n("div",{staticClass:"country-code"},[n("v-select",{attrs:{label:e.selectLabel,items:e.sortedCountries,disabled:e.disabled,outlined:e.outlined,filled:e.filled,flat:e.flat,light:e.light,shaped:e.shaped,rounded:e.rounded,"background-color":e.backgroundColor,dense:e.dense,"menu-props":e.menuProps,"item-text":"name","item-value":"iso2","return-object":""},on:{change:e.onChangeCountryCode},scopedSlots:e._u([{key:"selection",fn:function(){return[n("div",{staticClass:"vti__flag",class:e.activeCountry.iso2.toLowerCase()})]},proxy:!0},{key:"item",fn:function(t){return[n("span",{staticClass:"vti__flag",class:t.item.iso2.toLowerCase()}),n("span",[e._v(e._s(t.item.name)+" "+e._s("+"+t.item.dialCode))])]}}]),model:{value:e.countryCode,callback:function(t){e.countryCode=t},expression:"countryCode"}})],1),n("v-text-field",{ref:"input",attrs:{type:"tel",messages:e.messages,"error-messages":e.errorMessages,"success-messages":e.successMessages,hint:e.hint,suffix:e.suffix,prefix:e.prefix,"background-color":e.backgroundColor,rules:e.rules,"loader-height":e.loaderHeight,loading:e.loading,"hide-details":e.hideDetails,clearable:e.clearable,filled:e.filled,"full-width":e.fullWidth,flat:e.flat,light:e.light,"validate-on-blur":e.validateOnBlur,outlined:e.outlined,dense:e.dense,"persistent-hint":e.persistentHint,readonly:e.readonly,error:e.error,success:e.success,shaped:e.shaped,"single-line":e.singleLine,rounded:e.rounded,value:e.value,label:e.label,disabled:e.disabled,placeholder:e.placeholder,autofocus:e.autofocus,name:e.name,required:e.required,autocomplete:e.autocomplete,id:e.inputId,maxlength:e.maxLen,tabindex:e.inputOptions&&e.inputOptions.tabindex?e.inputOptions.tabindex:0},on:{input:e.onInput,blur:e.onBlur,focus:e.onFocus,click:e.onClick,change:e.onChange,mousedown:e.onMouseDown,mouseup:e.onMouseUp,keydown:e.onKeyDown,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.onSpace.apply(null,arguments)}]},scopedSlots:e._u([{key:"append",fn:function(){return[e._t("append")]},proxy:!0},{key:"append-outer",fn:function(){return[e._t("append-outer")]},proxy:!0},{key:"label",fn:function(){return[e._t("label")]},proxy:!0},{key:"message",fn:function(t){var n=t.key,i=t.message;return[e._t("label",null,null,{key:n,message:i})]}},{key:"prepend",fn:function(){return[e._t("prepend")]},proxy:!0},{key:"prepend-inner",fn:function(){return[e._t("prepend-inner")]},proxy:!0},{key:"progress",fn:function(){return[e._t("progress")]},proxy:!0}],null,!0),model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)},d=[],h=n(339906),p=n.n(h),c=n(805153),f=n(855444);function y(e){const t=u.options[e];return void 0===t?u.options[e]:t}function C(e,t){const n=t||[],{parentNode:i}=e;return i?C(i,n.concat(i)):n}var g,m={name:"VueTelInputVuetify",components:{VSelect:c.Z,VTextField:f.Z},directives:{"click-outside":{bind(e,t,n){if("function"!=typeof t.value){const e=n.context.name;let i=`[Vue-click-outside:] provided expression ${t.expression} is not a function, but has to be`;e&&(i+=`Found in component ${e}`),console.warn(i)}const{bubble:i}=t.modifiers,o=n=>{const o=n.path||!!n.composedPath&&n.composedPath()||C(n.target);(i||o.length&&!e.contains(o[0])&&e!==o[0])&&t.value(n)};e.__vueClickOutside__=o,document.addEventListener("click",o)},unbind(e){document.removeEventListener("click",e.__vueClickOutside__),e.__vueClickOutside__=null}}},props:{messages:{type:[Array,String]},errorMessages:{type:[Array,String]},successMessages:{type:[Array,String]},hint:{type:String},suffix:{type:String},prefix:{type:String},backgroundColor:{type:String},rules:{type:Array,default:()=>[]},loaderHeight:{type:[Number,String],default:2},loading:{type:[Boolean,String],default:!1},hideDetails:{type:[Boolean,String]},clearable:{type:Boolean,default:!1},filled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},light:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},menuProps:{type:Object,default:()=>{}},persistentHint:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},success:{type:Boolean,default:!1},shaped:{type:Boolean,default:!1},singleLine:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},value:{type:String,default:""},label:{type:String,default:()=>y("label")},selectLabel:{type:String,default:""},placeholder:{type:String,default:()=>y("placeholder")},disabledFetchingCountry:{type:Boolean,default:()=>y("disabledFetchingCountry")},disabled:{type:Boolean,default:()=>y("disabled")},mode:{type:String,default:()=>y("mode")},invalidMsg:{type:String,default:()=>y("invalidMsg")},required:{type:Boolean,default:()=>y("required")},allCountries:{type:Array,default:()=>y("allCountries")},defaultCountry:{type:String,default:()=>y("defaultCountry")},preferredCountries:{type:Array,default:()=>y("preferredCountries")},onlyCountries:{type:Array,default:()=>y("onlyCountries")},ignoredCountries:{type:Array,default:()=>y("ignoredCountries")},autocomplete:{type:String,default:()=>y("autocomplete")},autofocus:{type:Boolean,default:()=>y("autofocus")},name:{type:String,default:()=>y("name")},wrapperClasses:{type:[String,Array,Object],default:()=>y("wrapperClasses")},inputId:{type:String,default:()=>y("inputId")},inputOptions:{type:Object,default:()=>y("inputOptions")},maxLen:{type:Number,default:()=>y("maxLen")}},data:()=>({phone:"",activeCountry:{iso2:""},open:!1,finishMounted:!1,selectedIndex:null,typeToFindInput:"",typeToFindTimer:null,cursorPosition:0,countryCode:null}),computed:{parsedMode(){if(this.mode){if(["international","national","significant"].includes(this.mode))return this.mode;console.error('Invalid value of prop "mode"')}return this.phone&&"+"===this.phone[0]?"international":"national"},filteredCountries(){return this.onlyCountries.length?this.getCountries(this.onlyCountries):this.ignoredCountries.length?this.allCountries.filter((({iso2:e})=>!this.ignoredCountries.includes(e.toUpperCase())&&!this.ignoredCountries.includes(e.toLowerCase()))):this.allCountries},sortedCountries(){const e=undefined;return[...this.getCountries(this.preferredCountries).map((e=>({...e,preferred:!0}))),...this.filteredCountries]},phoneObject(){const e=p()(this.phone||"",this.activeCountry.iso2).toJSON();return Object.assign(e,{isValid:e.valid,country:this.activeCountry}),this.phone?e:{...e,number:{input:""}}},phoneText(){let e="input";return this.phoneObject.valid&&(e=this.parsedMode),this.phoneObject.number[e]||""}},watch:{"phoneObject.valid":function(e){e&&(this.phone=this.phoneText),this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)},value(){this.phone=this.value},open(e){e?this.$emit("open"):this.$emit("close")},phone(e,t){if(!this.doNotUpdateActiveCountry){if(e&&"+"===e[0]){const t=p()(e).getRegionCode();if(t){const e=undefined;if((this.findCountry(t)||this.activeCountry).dialCode==this.activeCountry.dialCode)return;this.activeCountry=this.findCountry(t)||this.activeCountry}}t&&this.cursorPosition<t.length&&this.$nextTick((()=>{r(this.$refs.input,this.cursorPosition)})),this.$emit("input",this.phoneText,this.phoneObject)}},activeCountry(e){e&&e.iso2&&(this.countryCode=e,this.$nextTick((()=>{this.$emit("country-changed",e)})))}},mounted(){this.initializeCountry().then((()=>{!this.phone&&this.inputOptions&&this.inputOptions.showDialCode&&this.activeCountry.dialCode&&(this.phone=`+${this.activeCountry.dialCode}`),this.countryCode=this.activeCountry,this.$emit("validate",this.phoneObject),this.$emit("onValidate",this.phoneObject)})).catch(console.error).finally((()=>{this.finishMounted=!0}))},created(){this.value&&(this.phone=this.value.trim())},methods:{initializeCountry(){return new Promise((e=>{if(this.phone&&"+"===this.phone[0]){const t=p()(this.phone).getRegionCode();if(t)return this.choose(t),void e()}if(this.defaultCountry){const t=this.findCountry(this.defaultCountry);if(t)return this.choose(t),void e()}const t=this.findCountry(this.preferredCountries[0])||this.filteredCountries[0];this.disabledFetchingCountry?(this.choose(t),e()):s().then((e=>{""===this.phone&&(this.activeCountry=this.findCountry(e)||this.activeCountry)})).catch((e=>{console.warn(e),this.choose(t)})).finally((()=>{e()}))}))},getCountries(e=[]){return e.map((e=>this.findCountry(e))).filter(Boolean)},findCountry(e=""){return this.allCountries.find((t=>t.iso2===e.toUpperCase()))},getItemClass(e,t){const n=undefined,i=undefined,o=undefined;return{highlighted:this.selectedIndex===e,"last-preferred":e===this.preferredCountries.length-1,preferred:this.preferredCountries.some((e=>e.toUpperCase()===t))}},choose(e,t=!1){this.activeCountry=e||this.activeCountry||{},this.doNotUpdateActiveCountry=!0,this.phone&&"+"===this.phone[0]&&this.activeCountry.iso2&&this.phoneObject.number.significant?this.phone=p()(this.phoneObject.number.significant,this.activeCountry.iso2).getNumber("international"):this.inputOptions&&this.inputOptions.showDialCode&&e&&(this.phone=`+${e.dialCode}`),this.$nextTick((()=>{this.doNotUpdateActiveCountry=!1})),t&&(this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject))},onInput(e){this.$emit("input",this.phoneText,this.phoneObject),this.$emit("onInput",this.phoneObject),e&&e.target&&(this.cursorPosition=e.target.selectionStart)},onBlur(){this.$emit("blur"),this.$emit("onBlur")},onFocus(e){this.$emit("focus",e)},onClick(e){this.$emit("click",e)},onChange(e){this.$emit("change",e)},onMouseUp(e){this.$emit("mouseup",e)},onMouseDown(e){this.$emit("mousedown",e)},onKeyDown(e){this.$emit("keydown",e)},onEnter(){this.$emit("enter"),this.$emit("onEnter")},onSpace(){this.$emit("space"),this.$emit("onSpace")},focus(){this.$refs.input.focus()},toggleDropdown(){this.disabled||(this.open=!this.open)},clickedOutside(){this.open=!1},keyboardNav(e){if(40===e.keyCode){e.preventDefault(),this.open=!0,null===this.selectedIndex?this.selectedIndex=0:this.selectedIndex=Math.min(this.sortedCountries.length-1,this.selectedIndex+1);const t=this.$refs.list.children[this.selectedIndex];t.offsetTop+t.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight&&(this.$refs.list.scrollTop=t.offsetTop-this.$refs.list.clientHeight+t.clientHeight)}else if(38===e.keyCode){e.preventDefault(),this.open=!0,null===this.selectedIndex?this.selectedIndex=this.sortedCountries.length-1:this.selectedIndex=Math.max(0,this.selectedIndex-1);const t=this.$refs.list.children[this.selectedIndex];t.offsetTop<this.$refs.list.scrollTop&&(this.$refs.list.scrollTop=t.offsetTop)}else if(13===e.keyCode)null!==this.selectedIndex&&this.choose(this.sortedCountries[this.selectedIndex]),this.open=!this.open;else{this.typeToFindInput+=e.key,clearTimeout(this.typeToFindTimer),this.typeToFindTimer=setTimeout((()=>{this.typeToFindInput=""}),700);const t=this.sortedCountries.slice(this.preferredCountries.length).findIndex((e=>e.name.toLowerCase().startsWith(this.typeToFindInput)));if(t>=0){this.selectedIndex=this.preferredCountries.length+t;const e=this.$refs.list.children[this.selectedIndex],n=e.offsetTop<this.$refs.list.scrollTop,i=e.offsetTop+e.clientHeight>this.$refs.list.scrollTop+this.$refs.list.clientHeight;(n||i)&&(this.$refs.list.scrollTop=e.offsetTop-this.$refs.list.clientHeight/2)}}},reset(){this.selectedIndex=this.sortedCountries.map((e=>e.iso2)).indexOf(this.activeCountry.iso2),this.open=!1},onChangeCountryCode(){this.choose(this.countryCode,!0)}}},v=n(676002),b,x,k=(0,n(801001).Z)(m,a,d,!1,null,null,null).exports;function $(e,t={}){if($.installed)return;if(!t||!t.vuetify)return;const{vuetify:n}=t;$.installed=!0,$.vuetify=n,u.options={...l,...t},e.use(n),e.component("vue-tel-input-vuetify",k)}const O={install:$};let T=null;"undefined"!=typeof window?T=window.Vue:void 0!==n.g&&(T=n.g.Vue),T&&T.use(O);var S,_=O}}]);